<!DOCTYPE html>
<html>
    <head>
        
        <title> ARfolio3 </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,height=device-height">
	      <meta name="apple-mobile-web-app-capable" content="yes">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="stylesheet" href="styles.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
     
        <!-- <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script> -->
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.5/aframe/build/aframe-ar.js"></script>

        <!-- gltf model -->
        <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
        
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="gesture-detector.js"></script>
        <script src="gesture-handler.js"></script>

        <script>
            // Profile Video Handler
            AFRAME.registerComponent('video-vidhandler-biography', {
                init: function() {
		        console.log('video init entered');
                    this.toggle = false;
                    this.vid = document.querySelector("#biography");
                    this.vid.pause();
                },
                tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
            });

            // Birthday Video Handler
            AFRAME.registerComponent('video-vidhandler-birthday', {
                init: function() {
		        console.log('video init entered');
                    this.toggle = false;
                    this.vid = document.querySelector("#birthday");
                    this.vid.pause();
                },
                tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
            });
        </script>
    </head>
    <body>

      <!-- embedded -->
          <a-scene
            arjs
            renderer="logarithmicDepthBuffer: true;"
            vr-mode-ui="enabled: true"
            gesture-detector
            id="scene"
          >

            <a-assets>
                <!-- Profile Image -->
                <img id="profile-img" src="images/profile.jpg">
                <!-- <img id="profile-img" src="images/pattern-male_profile.png"> -->
                <!-- <img id="profile-img" src="assets/images/profile_img.jpg"> -->
            </a-assets>

            <!-- Profile Img in Cube -->
            <!-- <a-marker-camera id="marker1" type='pattern' url='markers/pattern-female_profile.patt' > -->
            <!-- <a-marker-camera id="marker3" type='pattern' url='markers/pattern-qr-code-2-bb.patt' > -->
            <a-marker-camera id="marker3" type='pattern' url='markers/pattern-ID_size_image.patt'
              size=0.01
              smooth=true
              smooth-count=8
              smooth-tolerance=0.03
              smooth-threshold=3
            >
              <a-plane scale="3 3 1" rotation="-90 0 0" material="transparent: true; src: #profile-img" geometry="" speechify-initial-font-family="&quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif" speechify-initial-font-size="14px"></a-plane>
            </a-marker-camera> 

          <!-- Camera -->
          <!-- <a-entity camera></a-entity> -->
          <!-- <a-camera-static/> -->
          <a-camera/>
        </a-scene>
    </body>
</html>
